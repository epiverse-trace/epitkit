<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="es" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Curso en ciencia de datos en salud pública y modelamiento de enfermedades infecciosas: Limpieza de datos epidemiológicos</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XZ471458FQ');
    </script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/epitkit/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/epitkit/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/epitkit/favicon-16x16.png"><link rel="manifest" href="../favicons/epitkit/site.webmanifest"><link rel="mask-icon" href="../favicons/epitkit/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav epitkit"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Ir al contenido principal</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="epitkit-logo" alt="epitkit" src="../assets/images/epitkit-logo.svg"><span class="badge text-bg-danger" style="background-color: #FF4955; border-radius: 5px">
          <abbr title="Esta lección se encuentra en la fase pre-alfa, lo que significa que está en las primeras etapas de desarrollo, pero aún no se ha enseñado.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alfa
            </a>
            <span class="visually-hidden">Esta lección se encuentra en la fase pre-alfa, lo que significa que está en las primeras etapas de desarrollo, pero aún no se ha enseñado.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Vista de la instructora <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../limpieza.html';">Vista de estudiante</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav epitkit" aria-label="Navegación principal"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Alternar navegación">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menú</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="epitkit" src="../assets/images/epitkit-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Curso en ciencia de datos en salud pública y modelamiento de enfermedades infecciosas
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Buscar en la página All In One" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Curso en ciencia de datos en salud pública y modelamiento de enfermedades infecciosas
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Puntos Clave</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Notas de la instructora</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extraer todas las imágenes</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Más <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><hr><li><a class="dropdown-item" href="reference.html">Glosario de términos</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Buscar en la página All In One"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Buscar en la página All In One">Buscar en la página All In One</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Curso en ciencia de datos en salud pública y modelamiento de enfermedades infecciosas
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 42%" class="percentage">
    42%
  </div>
  <div class="progress epitkit">
    <div class="progress-bar epitkit" role="progressbar" style="width: 42%" aria-valuenow="42" aria-label="Progreso de la lección" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="Cerrar menú" alt="Cerrar menú" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Cerrar " data-episodes="Episodios ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Vista de la instructora
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../limpieza.html">Vista de estudiante</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODIOS
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Resumen y agenda</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="Taller-R-RStudio.html">1. Introducción a R y Rstudio</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="Visualizacion.html">2. Introduccion a la visualizacion de datos en R con ggplot2.</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="Reporte.html">3. Reporte e informes tecnicos en R Markdown</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        4. Limpieza de datos epidemiológicos
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introducci%C3%B3n">Introducción</a></li>
<li><a href="#tema-2-exploraci%C3%B3n-y-caracterizaci%C3%B3n-de-los-datos"><strong>Tema 2: Exploración y caracterización de los
datos</strong></a></li>
<li><a href="#tema-3-modificaci%C3%B3n-limpieza-y-correcci%C3%B3n-de-los-datos-errores-frecuentes-y-sus-soluciones"><strong>Tema 3: Modificación, limpieza y corrección de los datos:
Errores frecuentes y sus soluciones</strong></a></li>
<li><a href="#tema-4-organizaci%C3%B3n-de-los-datos"><strong>Tema 4: Organización de los datos</strong></a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="zika.html">5. Construyendo un modelo deterministico simple</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="estadistica.html">6. Unidad de Estadística y probabilidad</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="Banco_errores.html">7. Banco de preguntas y errores frecuentes</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RECURSOS
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Puntos Clave</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Notas de la instructora</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extraer todas las imágenes</a>
                      </li>
                      <hr><li><a class="dropdown-item" href="reference.html">Glosario de términos</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">Todo en una sola página</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Capítulo previo y siguiente"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/Reporte.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previo</a>
        <a class="chapter-link float-end" href="../instructor/zika.html">Siguiente<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/Reporte.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previo: Reporte e informes
        </a>
        <a class="chapter-link float-end" href="../instructor/zika.html" rel="next">
          Siguiente: Construyendo un...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Limpieza de datos epidemiológicos</h1>
        <p>Última actualización: 2025-06-24 |

        <a href="https://github.com/epiverse-trace/epitkit/edit/main/episodes/limpieza.Rmd" class="external-link">Mejora esta página <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Tiempo estimado: <i aria-hidden="true" data-feather="clock"></i> 44 minutos</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Mostrar todas las soluciones " data-collapse="Cerrar todas las soluciones "> Mostrar todas las soluciones <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Hoja de ruta</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Preguntas</h3>
<ul><li>¿Cómo limpiar datos epidemiológicos con R?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objetivos</h3>
<p>Al final de este taller usted podrá:</p>
<ul><li><p>Reconocer las herramientas que facilitan la limpieza de datos
epidemiológicos.</p></li>
<li><p>Identificar las buenas prácticas de la limpieza de datos
epidemiológicos.</p></li>
<li><p>Explorar el proceso de limpieza, organización y caracterización
de datos epidemiológicos.</p></li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="prereq1" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Pre requisito</h3>
<div class="callout-content">
<p>Esta unidad tiene como prerequisitos:</p>
<ul><li>Introducción a R y RStudio</li>
</ul></div>
</div>
</div>
<div id="tabla-de-contenido" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="tabla-de-contenido" class="callout-inner">
<h3 class="callout-title"><strong>Tabla de contenido</strong></h3>
<div class="callout-content">
<ul><li>Módulo: Ciencia de datos en salud pública
<ul><li>Unidad: Limpieza de datos epidemiológicos
<ul><li>Tema 1: Introducción a la limpieza de datos (Ver en plataforma del
curso)</li>
<li>Tema 2: Exploración y caracterización de los datos</li>
<li>Tema 3: Modificación, limpieza y corrección de los datos: Errores
frecuentes y sus soluciones</li>
<li>Tema 4: Organización de los datos</li>
</ul></li>
</ul></li>
</ul></div>
</div>
</div>
<section><h2 class="section-heading" id="introducción">Introducción<a class="anchor" aria-label="anchor" href="#introducci%C3%B3n"></a></h2>
<hr class="half-width"><p>En esta unidad abordaremos el proceso de limpieza de datos
epidemiológicos, utilizando los conocimientos previos de la unidad de la
introducción a R y RStudio, abordaremos la limpieza de datos como un
proceso fundamental para obtener insumos idóneos para el análisis de los
datos, la visualización y la creación de reportes epidemiológicos.</p>
<p>En esta unidad, aprenderá a reconocer las actividades necesarias para
llevar a cabo el proceso de limpieza de datos, aprenderá cómo solucionar
los errores más comunes en las bases de datos que pueden afectar el
análisis y comprenderá cómo describir y organizar los datos, clasificar
variables, aplicar formatos a las variables, manejar datos duplicados y
abordar la ausencia de datos.</p>
</section><section><h2 class="section-heading" id="tema-2-exploración-y-caracterización-de-los-datos"><strong>Tema 2: Exploración y caracterización de los
datos</strong><a class="anchor" aria-label="anchor" href="#tema-2-exploraci%C3%B3n-y-caracterizaci%C3%B3n-de-los-datos"></a></h2>
<hr class="half-width"><div class="section level3">
<h3 id="exploración-de-la-estructura-de-los-datos-en-r"><strong>2.2. Exploración de la estructura de los datos en
R</strong><a class="anchor" aria-label="anchor" href="#exploraci%C3%B3n-de-la-estructura-de-los-datos-en-r"></a></h3>
<p>Una vez hecha la exploración y la caracterización de los datos
mediante la documentación se procederá a explorar el dataset.</p>
<div class="section level4">
<h4 id="carga-de-la-información"><strong>2.2.1. Carga de la información</strong><a class="anchor" aria-label="anchor" href="#carga-de-la-informaci%C3%B3n"></a></h4>
<div id="instrucciones" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="instrucciones" class="callout-inner">
<h3 class="callout-title">⚠️ <strong>Instrucciones:</strong>
</h3>
<div class="callout-content">
<p>Antes de empezar a trabajar verifique que ya cuenta con los
siguientes pasos:</p>
<ol style="list-style-type: decimal"><li><p>Cree un proyecto en R</p></li>
<li><p>Cree carpeta llamada “datos” dentro del proyecto</p></li>
<li><p>Descargue el archivo data_limpieza.zip que contiene el dataset
“covid_LA.csv” y el documento de información “covid_LA_info.txt”,
disponible en el siguiente enlace <a href="https://github.com/TRACE-LAC/TRACE-LAC-data/raw/main/data_limpieza.zip" class="external-link uri">https://github.com/TRACE-LAC/TRACE-LAC-data/raw/main/data_limpieza.zip</a> </p></li>
<li><p>Descomprima los archivos y guarde el dataset “covid_LA.csv” en la
carpeta “datos”</p></li>
<li><p>Cree un R script</p></li>
</ol></div>
</div>
</div>
<div id="callout1" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>Si tiene dudas con el proceso por favor regrese a la unidad de
<strong>Introducción a R</strong>.</p>
</div>
</div>
</div>
<p><strong>Resultado esperado:</strong> Hasta este punto, el proyecto se
debería ver así:</p>
<figure><img src="../fig/vista_proyecto.png" class="figure mx-auto d-block"></figure><ol start="6" style="list-style-type: decimal"><li>Cargue las librerías: tidyverse, rio y cleanepi.</li>
</ol><div id="callout2" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>Si aún no las ha instalado puede hacerlo con el siguiente código</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw">require</span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span><span class="op">)</span> <span class="fu">install.packages</span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span> <span class="co">#si necesita instalar tidyverse</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw">require</span><span class="op">(</span><span class="st">"cleanepi"</span><span class="op">)</span><span class="op">)</span> <span class="fu">install.packages</span><span class="op">(</span><span class="st">"cleanepi"</span><span class="op">)</span> <span class="co">#si necesita instalar cleanepi</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw">require</span><span class="op">(</span><span class="st">"rio"</span><span class="op">)</span><span class="op">)</span> <span class="fu">install.packages</span><span class="op">(</span><span class="st">"rio"</span><span class="op">)</span> <span class="co">#si necesita instalar rio</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="st">"cleanepi"</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="st">"rio"</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.2.1
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<ol start="7" style="list-style-type: decimal"><li>Cargue el dataset</li>
</ol><p>⚠️ <strong>Instrucción:</strong> Cargue el dataset en R con el
siguiente código:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu">import</span><span class="op">(</span><span class="st">"datos/covid_LA.csv"</span><span class="op">)</span></span></code></pre>
</div>
<p>Ahora que la base está cargada podemos hacer la revisión del formato
de los datos.</p>
</div>
<div class="section level4">
<h4 id="exploración-del-dataset"><strong>2.2.2. Exploración del dataset</strong><a class="anchor" aria-label="anchor" href="#exploraci%C3%B3n-del-dataset"></a></h4>
<p>En este ejercicio para explorar las variables contenidas en el objeto
covid se puede realizar una aproximación general o específica a cada
variable.</p>
<p>Por ejemplo, puede hacer una aproximación general usando la función
str para identificar el tipo de objeto, tipo de variables y valores de
la variable. Una opción dentro de tidyverse la función glimpse que
permite identificar rápidamente el contenido del dataset.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función
<code>glimpse</code> o <code>str</code></p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">glimpse</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado :</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Rows: 79,200
Columns: 25
$ `fecha reporte web`           &lt;chr&gt; "2021-03-15", "21-03-23", "2021-mar-15",…
$ `ID de caso`                  &lt;int&gt; 1804713, 3202309, 5651419, 59067, 523826…
$ `Fecha de notificación`       &lt;chr&gt; "31/12/2020", "26/04/2021", "08/01/2022"…
$ Edad                          &lt;int&gt; 26, 28, 61, 24, 51, 25, 35, 56, 27, 8, 3…
$ Sexo                          &lt;chr&gt; "M", "F", "M", "M", "M", "M", "M", "M", …
$ `Ubicación del caso`          &lt;chr&gt; "Casa", "Casa", "Casa", "Casa", "Casa", …
$ Estado                        &lt;chr&gt; "Leve", "Leve", "Leve", "Leve", "Leve", …
$ Recuperado                    &lt;chr&gt; "Recuperado", "Recuperado", "Recuperado"…
$ `Fecha de inicio de síntomas` &lt;chr&gt; "21/12/2020", "24/04/2021", "04/01/2022"…
$ `Fecha de muerte`             &lt;chr&gt; "No registra", "No registra", "No regist…
$ `Fecha de diagnóstico`        &lt;chr&gt; "02/01/2021", "06/05/2021", "19/01/2022"…
$ `Fecha de recuperación`       &lt;chr&gt; "13/01/2021", "23/05/2021", "21/01/2022"…
$ `Tipo de recuperación`        &lt;chr&gt; "Tiempo", "Tiempo", "Tiempo", "Tiempo", …
$ `fecha de nacimiento`         &lt;dbl&gt; 1996, 1994, 1961, 1998, 1971, 1997, 1987…
$ `Nombre del país`             &lt;chr&gt; "Argentina", "Haití", "Perú", "Ecuador",…
$ Sintomas                      &lt;chr&gt; "Leve", "Leve", "Leve", "Leve", "Leve", …
$ `Edad repetida`               &lt;int&gt; 26, 28, 61, 24, 51, 25, 35, 56, 27, 8, 3…
$ Num_Hos_Rec                   &lt;chr&gt; "cero", "0", "0", "0", "0", "cero", "cer…
$ `Tensión arterial`            &lt;chr&gt; "102/85", "148/72", "92/84", "122/71", "…
$ `año última actualización`    &lt;int&gt; 2024, 2024, 2024, 2024, 2024, 2024, 2024…
$ `método recolección`          &lt;chr&gt; "Llamada telefónica", "Llamada telefónic…
$ `Central de reporte`          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ Vacunado                      &lt;lgl&gt; FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, TR…
$ talla                         &lt;chr&gt; "1.73", "1.67", "1m69", "1.66", "1.63", …
$ peso                          &lt;dbl&gt; 69.6, 73.9, 66.4, 72.5, 64.6, 66.7, 68.9…</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="aplicación-de-buenas-prácticas-para-nombrar-variables"><strong>2.2.3. Aplicación de buenas prácticas para nombrar
variables</strong><a class="anchor" aria-label="anchor" href="#aplicaci%C3%B3n-de-buenas-pr%C3%A1cticas-para-nombrar-variables"></a></h4>
<div id="callout3" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p><strong>Tip de buena práctica:</strong> De acuerdo con las buenas
prácticas de programación se recomienda que los nombres de las variables
tengan características como:</p>
<ul><li><p>Estar en minúsculas</p></li>
<li><p>No contener caracteres especiales</p></li>
<li><p>No contener espacios</p></li>
</ul></div>
</div>
</div>
<p>Estas recomendaciones dependen de la preferencia del analista y su
equipo. Para este módulo vamos a hacer uso de la función
<code>standardize_column_names</code> del paquete
<code>cleanepi</code>.</p>
<div id="callout4" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>standardize_column_names</code> tiene como argumento
principal:</p>
<ul><li>
<code>data</code>: el dataset (o linelist) con los datos a
modificar.</li>
</ul><p>Y dos argumentos opcionales:</p>
<ul><li><p><code>keep</code>: un vector con los nombres de las columnas que
se mantendrán.</p></li>
<li><p><code>rename</code>: un vector con los nombres de las columnas
que se renombraran. Ej.
<code>c(nombre_nuevo1 = “nombre_viejo1”, nombre_nuevo2 = “nombre_viejo2”)</code></p></li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función
standardize_column_names para limpiar los nombres del dataset covid:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_column_names</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> El código anterior no arroja un
resultado visible en la consola para observar el cambio, sin embargo,
empleando la función glimpse podemos observar los nombres de las
variables de la base covid ajustados.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función glimpse y observe
el cambio en el nombre de la variable Tipo de recuperación:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">glimpse</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Rows: 79,200
Columns: 25
$ fecha_reporte_web           &lt;chr&gt; "2021-03-15", "21-03-23", "2021-mar-15", "…
$ id_de_caso                  &lt;int&gt; 1804713, 3202309, 5651419, 59067, 5238264,…
$ fecha_de_notificacion       &lt;chr&gt; "31/12/2020", "26/04/2021", "08/01/2022", …
$ edad                        &lt;int&gt; 26, 28, 61, 24, 51, 25, 35, 56, 27, 8, 35,…
$ sexo                        &lt;chr&gt; "M", "F", "M", "M", "M", "M", "M", "M", "F…
$ ubicacion_del_caso          &lt;chr&gt; "Casa", "Casa", "Casa", "Casa", "Casa", "F…
$ estado                      &lt;chr&gt; "Leve", "Leve", "Leve", "Leve", "Leve", "F…
$ recuperado                  &lt;chr&gt; "Recuperado", "Recuperado", "Recuperado", …
$ fecha_de_inicio_de_sintomas &lt;chr&gt; "21/12/2020", "24/04/2021", "04/01/2022", …
$ fecha_de_muerte             &lt;chr&gt; "No registra", "No registra", "No registra…
$ fecha_de_diagnostico        &lt;chr&gt; "02/01/2021", "06/05/2021", "19/01/2022", …
$ fecha_de_recuperacion       &lt;chr&gt; "13/01/2021", "23/05/2021", "21/01/2022", …
$ tipo_de_recuperacion        &lt;chr&gt; "Tiempo", "Tiempo", "Tiempo", "Tiempo", "T…
$ fecha_de_nacimiento         &lt;dbl&gt; 1996, 1994, 1961, 1998, 1971, 1997, 1987, …
$ nombre_del_pais             &lt;chr&gt; "Argentina", "Haití", "Perú", "Ecuador", "…
$ sintomas                    &lt;chr&gt; "Leve", "Leve", "Leve", "Leve", "Leve", "C…
$ edad_repetida               &lt;int&gt; 26, 28, 61, 24, 51, 25, 35, 56, 27, 8, 35,…
$ num_hos_rec                 &lt;chr&gt; "cero", "0", "0", "0", "0", "cero", "cero"…
$ tension_arterial            &lt;chr&gt; "102/85", "148/72", "92/84", "122/71", "15…
$ ano_ultima_actualizacion    &lt;int&gt; 2024, 2024, 2024, 2024, 2024, 2024, 2024, …
$ metodo_recoleccion          &lt;chr&gt; "Llamada telefónica", "Llamada telefónica"…
$ central_de_reporte          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ vacunado                    &lt;lgl&gt; FALSE, TRUE, FALSE, TRUE, TRUE, TRUE, TRUE…
$ talla                       &lt;chr&gt; "1.73", "1.67", "1m69", "1.66", "1.63", "1…
$ peso                        &lt;dbl&gt; 69.6, 73.9, 66.4, 72.5, 64.6, 66.7, 68.9, …</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="resumen-de-variables"><strong>2.2.4. Resumen de variables</strong><a class="anchor" aria-label="anchor" href="#resumen-de-variables"></a></h4>
<p>Para empezar la exploración de las variables, emplearemos la función
summary.</p>
<p>⚠️️ <strong>Instrucción:</strong> Emplee la función summary para
explorar las variables:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> fecha_reporte_web    id_de_caso      fecha_de_notificacion      edad
 Length:79200       Min.   :    150   Length:79200          Min.   :  1.00
 Class :character   1st Qu.:1555387   Class :character      1st Qu.: 27.00
 Mode  :character   Median :3134996   Mode  :character      Median : 38.00
                    Mean   :3128082                         Mean   : 39.84
                    3rd Qu.:4691283                         3rd Qu.: 52.00
                    Max.   :6265661                         Max.   :109.00

     sexo           ubicacion_del_caso    estado           recuperado
 Length:79200       Length:79200       Length:79200       Length:79200
 Class :character   Class :character   Class :character   Class :character
 Mode  :character   Mode  :character   Mode  :character   Mode  :character




 fecha_de_inicio_de_sintomas fecha_de_muerte    fecha_de_diagnostico
 Length:79200                Length:79200       Length:79200
 Class :character            Class :character   Class :character
 Mode  :character            Mode  :character   Mode  :character




 fecha_de_recuperacion tipo_de_recuperacion fecha_de_nacimiento
 Length:79200          Length:79200         Min.   :1913
 Class :character      Class :character     1st Qu.:1970
 Mode  :character      Mode  :character     Median :1984
                                            Mean   : Inf
                                            3rd Qu.:1995
                                            Max.   : Inf
                                            NA's   :1393
 nombre_del_pais      sintomas         edad_repetida    num_hos_rec
 Length:79200       Length:79200       Min.   :  1.00   Length:79200
 Class :character   Class :character   1st Qu.: 27.00   Class :character
 Mode  :character   Mode  :character   Median : 38.00   Mode  :character
                                       Mean   : 39.84
                                       3rd Qu.: 52.00
                                       Max.   :109.00

 tension_arterial   ano_ultima_actualizacion metodo_recoleccion
 Length:79200       Min.   :2024             Length:79200
 Class :character   1st Qu.:2024             Class :character
 Mode  :character   Median :2024             Mode  :character
                    Mean   :2024
                    3rd Qu.:2024
                    Max.   :2024

 central_de_reporte  vacunado          talla                peso
 Mode:logical       Mode :logical   Length:79200       Min.   :53.60
 NA's:79200         FALSE:19186     Class :character   1st Qu.:67.30
                    TRUE :60014     Mode  :character   Median :70.00
                                                       Mean   :69.99
                                                       3rd Qu.:72.70
                                                       Max.   :87.10
                                                                      </code></pre>
</div>
<div id="callout5" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>Para conocer las unidades de las variables recuerde ver la
documentación llamada “covid_LA_info.txt”.</p>
</div>
</div>
</div>
<p>Además de poder usar <code>summary</code> como en el caso anterior,
también se puede obtener esta información para cada variable de forma
individual. Por ejemplo, para la variable <code>edad</code>, empleamos
<code>summary</code> llamando a la variable dentro del dataset.</p>
<p>⚠️️ <strong>Instrucción:</strong> Emplee la función summary para
explorar la variable edad:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">edad</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      edad
 Min.   :  1.00
 1st Qu.: 27.00
 Median : 38.00
 Mean   : 39.84
 3rd Qu.: 52.00
 Max.   :109.00  </code></pre>
</div>
</div>
<div class="section level4">
<h4 id="exploración-de-variables-cuantitativas"><strong>2.2.5. Exploración de variables cuantitativas</strong><a class="anchor" aria-label="anchor" href="#exploraci%C3%B3n-de-variables-cuantitativas"></a></h4>
<p>Otra forma de explorar variables cuantitativas es en forma de
gráfica. Empleando gráficos como histogramas, diagrama de cajas y
bigotes, líneas de tendencia, nubes de puntos, diagrama de violines,
entre otros. A continuación, se muestran ejemplos para histograma y
diagrama de cajas y bigotes.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función hist para generar
un histograma de la variable <code>edad</code>:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">edad</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#pull extrae el vector</span></span>
<span>  <span class="fu">graphics</span><span class="fu">::</span><span class="fu">hist</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<figure><img src="../fig/limpieza-rendered-unnamed-chunk-16-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>⚠️ <strong>Instrucción:</strong> Emplee la función boxplot para
generar un boxplot de la variable <code>edad</code>:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">edad</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">graphics</span><span class="fu">::</span><span class="fu">boxplot</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<figure><img src="../fig/limpieza-rendered-unnamed-chunk-18-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Estos gráficos pueden resultar útiles para examinar la tendencia y
distribución de los datos, así como observar datos atípicos.</p>
<div id="callout6" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>Para explorar más temas de visualización por favor diríjase a la
<strong>Unidad. Introducción a la visualización de datos en R con
ggplot2</strong>.</p>
</div>
</div>
</div>
</div>
<div class="section level4">
<h4 id="exploración-de-variables-cualitativas"><strong>2.2.6. Exploración de variables cualitativas</strong><a class="anchor" aria-label="anchor" href="#exploraci%C3%B3n-de-variables-cualitativas"></a></h4>
<p>Ahondemos un poco más en la exploración de variables cualitativas.
Cuando usamos <code>summary</code>, al inicio de esta sección, pudimos
ver que sucedía con algunas variables cualitativas. Ahora observaremos
lo que pasa con la variable <code>nombre_del_pais</code>.</p>
<p>⚠️ <strong>Instrucción:</strong> Seleccione la variable
nombre_del_pais empleando la función select y emplee la función summary
para ver el resumen de esta variable.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">sintomas</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span>   <span class="va">sintomas</span></span>
<span> <span class="va">Length</span><span class="op">:</span><span class="fl">79200</span></span>
<span> <span class="va">Class</span> <span class="op">:</span><span class="va">character</span></span>
<span> <span class="va">Mode</span>  <span class="op">:</span><span class="va">character</span>  </span></code></pre>
</div>
<div class="discusión">
<p>¿Qué puede observar?</p>
</div>
<p>Para obtener detalles sobre las categorías de las variables, podemos
usar otras opciones como tablas, tablas de proporciones, extracción de
valores únicos y creación de gráficos. Veamos cada uno:</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función table para generar
una tabla de la variable sintomas :</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">sintomas</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset debió obtener los siguientes resultados:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
     Critico        Grave         Leve     Moderado Sin sintomas
        1781            1        76976           13          429 </code></pre>
</div>
<div class="discusión">
<p>¿Qué puede observar?</p>
</div>
<p>En caso que deseemos observar una tabla con los
<strong>porcentajes</strong> de cada elemento al interior de la variable
podemos recurrir a la función <code>prop.table</code>.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función
<code>prop.table</code> para generar una tabla con porcentajes de la
variable <code>sintomas</code>:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">sintomas</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">prop.table</span><span class="op">(</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span> <span class="co">#si desea las propociones puede eliminar el "*100"</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
     Critico        Grave         Leve     Moderado Sin sintomas
 2.248737374  0.001262626 97.191919192  0.016414141  0.541666667 </code></pre>
</div>
<p>Como puede observar ahora podemos ver cada categoría con su
respectivo porcentaje. En caso de que sólo deseemos ver los objetos
contenidos sin otros datos podemos emplear la función
<code>unique</code>.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función unique para
extraer los valores únicos de la variable sintomas:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">sintomas</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">unique</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Leve"         "Critico"      "Moderado"     "Sin sintomas" "Grave"       </code></pre>
</div>
<p>Con esto pudimos obtener los diferentes valores de la variable
<code>sintomas</code>. Además, las variables cualitativas pueden ser
examinadas mediante gráficos de barras o de torta.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función barplot a
compañado de la función tablepara generar un gráfico de barras del
contenido de la variable <code>sexo</code>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">sintomas</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">graphics</span><span class="fu">::</span><span class="fu">barplot</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<img src="../fig/limpieza-rendered-unnamed-chunk-28-1.png" style="display: block; margin: auto;" class="figure"><center>
<p><a href="https://epiverse-trace.github.io/epitkit/Banco_errores.html" class="external-link"><img src="../fig/dudas.png" width="100" class="figure"></a></p>
</center>
</div>
</div>
</section><section><h2 class="section-heading" id="tema-3-modificación-limpieza-y-corrección-de-los-datos-errores-frecuentes-y-sus-soluciones"><strong>Tema 3: Modificación, limpieza y corrección de los datos:
Errores frecuentes y sus soluciones</strong><a class="anchor" aria-label="anchor" href="#tema-3-modificaci%C3%B3n-limpieza-y-correcci%C3%B3n-de-los-datos-errores-frecuentes-y-sus-soluciones"></a></h2>
<hr class="half-width"><div class="section level3">
<h3 id="revisión-de-la-coherencia-del-contenido-de-las-variables-"><strong>3.1. Revisión de la coherencia del contenido de las
variables.</strong><a class="anchor" aria-label="anchor" href="#revisi%C3%B3n-de-la-coherencia-del-contenido-de-las-variables-"></a></h3>
<p>Para emplear estas funciones de conversión podemos emplearlas
directamente a cada variable (ej. <code>as.factor(covid$sexo)</code>) o
hacer uso de la función <code>across</code>. La función
<code>across</code> es una función del paquete <code>dplyr</code> que
permite aplicar transformaciones a múltiples variables de un data frame
de manera simultánea. </p>
<div id="callout7" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>across</code> tiene dos argumentos</p>
<ol style="list-style-type: decimal"><li><p><code>.cols</code>: el vector de variables a
transformar.</p></li>
<li><p><code>.fns</code>: la función que se aplicará.</p></li>
</ol></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Convierta las variables
<code>sexo</code>, <code>sintomas</code> y <code>nombre_del_pais</code>
a tipo factor con las funciones <code>across</code> y
<code>as.factor</code>.</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">across</span><span class="op">(</span></span>
<span>    .cols <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"sexo"</span>, <span class="st">"sintomas"</span>, <span class="st">"nombre_del_pais"</span><span class="op">)</span>, </span>
<span>    .fns <span class="op">=</span> <span class="va">as.factor</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Se puede observar el resultado
del código anterior empleando funciones de visualización como
summary.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función summary para
explorar las variables transformadas a tipo factor:</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="fu">c</span><span class="op">(</span><span class="va">sexo</span>, <span class="va">sintomas</span>, <span class="va">nombre_del_pais</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code> sexo              sintomas       nombre_del_pais
 F:42336   Critico     : 1781   Honduras  : 3730
 M:36864   Grave       :    1   Ecuador   : 3715
           Leve        :76976   Nicaragua : 3690
           Moderado    :   13   Brasil    : 3665
           Sin sintomas:  429   Bolivia   : 3661
                                Costa Rica: 3658
                                (Other)   :57081  </code></pre>
</div>
<p>Al utilizar la función summary con las variables que acabamos de
convertir en tipo factor, podemos observar que a diferencia de la
primera vez que usamos summary en el paso 4 del tema 2 los resultados
han cambiado.</p>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Discusión</h3>
<div class="callout-content">
<p>¿Qué cambios puede observar?</p>
</div>
</div>
</div>
<p>Para dar un orden a las categorías de una variable factor podemos
usar la función <code>fct_relevel</code>.</p>
<p>⚠️ <strong>Instrucción:</strong> Emplee la función
<code>fct_relevel</code> para modificar el orden de las categorías de la
variable:</p>
<div id="callout8" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p><strong>Pista</strong>: En el primer argumento llamamos la variable a
modificar y en el segundo argumento ponemos un vector con los niveles en
el orden deseado.</p>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>sintomas <span class="op">=</span> </span>
<span>                  <span class="fu">forcats</span><span class="fu">::</span><span class="fu">fct_relevel</span><span class="op">(</span><span class="va">sintomas</span>,</span>
<span>                                       <span class="st">"Sin sintomas"</span>, </span>
<span>                                       <span class="st">"Leve"</span>, <span class="st">"Moderado"</span>, </span>
<span>                                       <span class="st">"Grave"</span>, <span class="st">"Critico"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p>⚠️ <strong>Instrucción:</strong> Verifique si los niveles de la
variable están en el orden deseado:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">count</span><span class="op">(</span><span class="va">sintomas</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      sintomas     n
1 Sin sintomas   429
2         Leve 76976
3     Moderado    13
4        Grave     1
5      Critico  1781</code></pre>
</div>
<p>Tener en orden los niveles de las variables es fundamental para un
adecuado análisis estadístico y una correcta interpretación de los
resultados.</p>
<p>Sin embargo, aunque la documentación especifique que la variable debe
tener un tipo de dato determinado. Por ejemplo, para variables
numéricas, a veces un dataset podría contener los números escritos en
letras. En este caso, al realizar la conversión a tipo numérico el
sistema no los detectará como valores numéricos y los reemplazará por
valores <code>NA</code>, lo que resultará en la pérdida de esa
información. Veamos un ejemplo.</p>
<p>⚠️ <strong>Instrucciones:</strong></p>
<ol style="list-style-type: decimal"><li>Usando la función table explore los primeros 1000 registros
contenidos de la variable <code>num_hos_rec</code> ¿Qué elementos puede
observar?</li>
</ol><div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">num_hos_rec</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
          0           1           2           3        cero         dos
        545          18          22          19         180          26
no registra No registra        tres         uno        &lt;NA&gt;
         81          72          22          15           0 </code></pre>
</div>
<p>Esta variable contiene elementos numéricos, caracteres y
<code>NA</code> para convertir la variable a numérica se emplea la
función <code>as.numeric</code>.</p>
<ol start="2" style="list-style-type: decimal"><li>Antes de convertir el dataset, usando la función
<code>as.numeric</code> obtenga una tabla de la columna en formato
numérico que le permita explorar las consecuencias de convertirla a
numérica.</li>
</ol><div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">num_hos_rec</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">as.numeric</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">ADVERTENCIA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning in base::table(., useNA = "always"): NAs introduced by coercion</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
   0    1    2    3 &lt;NA&gt;
 545   18   22   19  396 </code></pre>
</div>
<div class="discusión">
<p>¿Qué cambios pudo observar?</p>
</div>
<p>Al explorar la variable en formato numérico notamos que los números
permanecen mientras que los elementos no numéricos (“no registra” y “No
registra”) se unieron al grupo de <code>NA</code>. Más adelante
profundizaremos en los datos <code>NA</code>. Si esta conforme con los
cambios, puede convertir el dataset:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">convert_to_numeric</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="st">"num_hos_rec"</span>,</span>
<span>    lang <span class="op">=</span> <span class="st">"es"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="identificación-de-valores-erróneos-o-faltantes-"><strong>3.2. Identificación de valores erróneos o
faltantes.</strong><a class="anchor" aria-label="anchor" href="#identificaci%C3%B3n-de-valores-err%C3%B3neos-o-faltantes-"></a></h3>
<p>Además de los valores NA en nuestro procesamiento de datos podemos
encontrar otros valores Inf (valores infinitos) o NaN (valores numéricos
indeterminados).</p>
<p>La identificación de datos faltantes requiere en primera instancia
identificar la causa de la ausencia de estos datos.</p>
<div class="section level4">
<h4 id="valores-na"><strong>3.2.1. Valores NA</strong><a class="anchor" aria-label="anchor" href="#valores-na"></a></h4>
<div class="section level5">
<h5 id="nas-relacionados-con-separadores-incorrectos"><strong>NAs relacionados con separadores incorrectos</strong><a class="anchor" aria-label="anchor" href="#nas-relacionados-con-separadores-incorrectos"></a></h5>
<p>Veamos un ejemplo común de aparición de <code>NA</code>: cuando
tenemos diferentes separadores para números (ej. en talla).</p>
<p>⚠️ <strong>Instrucción:</strong> Antes de convertir el dataset,
obtenga una tabla (usando la función table) que cuantifique los NA
resultantes de convertir la variable talla en formato numérico con la
función as.numeric. Para comprobar si un valor es <code>NA</code> puede
usar la función <code>is.na</code>.</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">talla</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">as.numeric</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">is.na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">ADVERTENCIA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning in base::table(.): NAs introduced by coercion</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
FALSE  TRUE
54068 25132 </code></pre>
</div>
<p>Ahora use el siguiente código para comprender por qué se generan
estos <code>NA</code></p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">talla</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "1.73" "1.67" "1m69" "1.66" "1.63" "1 68"</code></pre>
</div>
<p><strong>Resultado esperado:</strong> Como puede observar aparece una
advertencia indicando que algunos de los valores han sido convertidos en
valores <code>NA</code>. Esto se debe a que hay elementos no numéricos
en la variable. Al explorar el contenido de la variable podemos notar
que la talla está como un vector de caracteres y los separadores
incluyen puntos, comas, espacios, etc, pero en este caso es un sólo
separador en todos los casos.</p>
<p>Cuando trabajamos con una variable numérica, es fundamental conocer
si su recolección y digitación se realizaron de manera estandarizada y
limitada a valores numéricos. Para corregir errores como el uso de
caracteres en lugar de números, podemos recurrir a funciones de búsqueda
y reemplazo de caracteres dentro del contenido de la variable. Una
opción es utilizar la función <code>str_replace</code> que se encuentra
en el paquete <code>stringr</code> de R.</p>
<div id="callout9" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>str_replace</code> requiere de tres argumentos:</p>
<ul><li><p><code>string</code>: el vector de la variable que se
modificará.</p></li>
<li><p><code>pattern</code>: el carácter que se desea reemplazar. Sin
embargo, por practicidad podemos emplear expresiones regulares. Por
ejemplo, la expresión <code>"[^0-9]"</code> indica que se selecciona
cualquier carácter que no sea un número. . Se pone entre
comillas.</p></li>
<li><p><code>replacement</code>: el carácter que reemplazará al del
primer argumento. Se pone entre comillas.</p></li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Utilice la función
<code>str_replace</code> para reemplazar dentro de la variable talla
(introducida como carácter) todos los elementos que no sean (^) números
del 0 al 9 o un punto: por un punto.</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>talla <span class="op">=</span> </span>
<span>                  <span class="fu">stringr</span><span class="fu">::</span><span class="fu">str_replace</span><span class="op">(</span></span>
<span>                    string <span class="op">=</span> <span class="va">talla</span>, </span>
<span>                    pattern<span class="op">=</span> <span class="st">"[^0-9.]"</span>,</span>
<span>                    replacement<span class="op">=</span><span class="st">"."</span><span class="op">)</span></span>
<span>                <span class="op">)</span></span></code></pre>
</div>
<p>⚠️ <strong>Instrucción:</strong> Verifique si se realizo el cambio
deseado:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">talla</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "1.73" "1.67" "1.69" "1.66" "1.63" "1.68"</code></pre>
</div>
<p>⚠️ <strong>Instrucción:</strong> Compruebe el efecto de la
transformación y usando la función table obtenga una tabla que
cuantifique los NA resultante de convertir la variable talla en formato
numérico con la función <code>as.numeric</code>. Para comprobar si un
dato es NA puede usar la función <code>is.na</code>.</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">talla</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">as.numeric</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">is.na</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">.</span></span>
<span><span class="cn">FALSE</span></span>
<span><span class="fl">79200</span> </span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Si el cambio de decimales fue
exitoso con el dataset y que en caso de reemplazarlo por numérico no
tendría NAs. Por lo tanto está bien hacer el cambio a numérico.</p>
<p>⚠️ <strong>Instrucción:</strong> Transforme la variable talla a
formato numérico e imprima las primeras filas.</p>
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>talla <span class="op">=</span> <span class="fu">as.numeric</span> <span class="op">(</span><span class="va">talla</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">talla</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1.73 1.67 1.69 1.66 1.63 1.68</code></pre>
</div>
<p>Como podemos ver, una vez hecha la transformación ya no aparecen
comillas ““, indicando que ya se hizo la conversión a numéricos.</p>
</div>
<div class="section level5">
<h5 id="nas-relacionados-con-errores-en-la-escritura-de-fechas"><strong>NAs relacionados con errores en la escritura de
fechas</strong><a class="anchor" aria-label="anchor" href="#nas-relacionados-con-errores-en-la-escritura-de-fechas"></a></h5>
<p>En algunas ocasiones puede ocurrir que la escritura de fechas sigue
el criterio de quién recolecta los datos. Por ejemplo, en un formulario
que contiene día/mes/año podemos encontrar diligenciamientos como:
“2015-03-15”, “15-03-15”, “2015-mar-15”, “01/mar/2023”, “15/15/03”,
“ene/15”. Dado que corregir una innumerable cantidad de fechas puede ser
una tarea inviable, la función standardize_dates del paquete
<code>cleanepi</code> ofrece una alternativa para hacer corrección
automática, además de convertir la columna al formato fecha
(<code>date</code>).</p>
<div id="callout10" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>standardize_dates</code> además del argumento data
tiene un argumento principal que es:</p>
<ul><li>
<code>target_columns</code>: las columnas que contienen las fechas
que se van a estandarizar.</li>
</ul><p>Y tres argumentos opcionales:</p>
<ul><li><p><code>error_tolerance</code>: el porcentaje permitido de fechas
que no se pueden corregir antes de que se detenga la función.</p></li>
<li><p><code>format</code>: el formato de las fechas. Si se deja como
NULL, la función intentará adivinar el formato. </p></li>
<li><p><code>timeframe</code>: el rango de fechas permitido. Si se deja
como NULL, la función no restringirá las fechas. </p></li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Observe cómo está compuesta la
variable <code>fecha_reporte_web</code>.</p>
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   fecha_reporte_web
1         2021-03-15
2           21-03-23
3        2021-mar-15
4        01/mar/2021
5           21/15/01
6             ene/15
7         28/01/2022
8         07/07/2022
9         21/01/2022
10        22/03/2021</code></pre>
</div>
<p>Como puede observar las fechas se presentan en varios formatos,
además como se vio cuando usamos glimpse la columna está en formato
carácter. Para estandarizar estos formatos de fechas y dar formato fecha
a la variable emplearemos la función <code>standarize_dates</code>. </p>
<p>⚠️ <strong>Instrucción:</strong> Convierta la variable
<code>fecha_reporte_web</code> a tipo fecha usando la función
<code>standardize_dates</code>.</p>
<div class="codewrapper sourceCode" id="cb51">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">slice</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span><span class="op">)</span> </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   fecha_reporte_web
1         2021-03-15
2         2021-03-23
3         2021-03-15
4         2021-01-20
5         2021-01-15
6               &lt;NA&gt;
7         2022-01-28
8         2022-07-07
9         2022-01-21
10        2021-03-22</code></pre>
</div>
<p>Como puede observar, dado que no especificamos el formato, la función
lo identificó de forma automática. En los casos en que la identificación
falló, los datos fueron transformados a <code>NA</code>.  Además, ahora
la columna está en formato fecha (<code>date</code>).</p>
<p>⚠️ <strong>Instrucción:</strong> Almacene el cambio en la variable
<code>fecha_reporte_web</code></p>
<div class="codewrapper sourceCode" id="cb53">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">standardize_dates</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="st">"fecha_reporte_web"</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level5">
<h5 id="nas-relacionados-con-errores-en-la-escritura-de-números"><strong>NAs relacionados con errores en la escritura de
números</strong><a class="anchor" aria-label="anchor" href="#nas-relacionados-con-errores-en-la-escritura-de-n%C3%BAmeros"></a></h5>
<p>En algunos casos pueden ocurrir errores en la recolección que no se
corrigen en la digitación como, por ejemplo, escribir el nombre de un
número (ej. “tres”) en lugar del símbolo que representa al número (ej.
“3”).</p>
<p>⚠️ <strong>Instrucción:</strong> Usando la función table explore la
variable <code>num_hos_rec</code></p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">num_hos_rec</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
    0     1     2     3  &lt;NA&gt;
57789  3094  3059  3100 12158 </code></pre>
</div>
<p>Como puede observar hay números escritos como letras y en símbolos,
así como dos categorías de datos que no se registraron y no hay
<code>NA</code> es decir que todos los registros cuentan con algún
valor.</p>
<p>Para corregir estos errores luego de identificarlos podemos
sustituirlos uno por uno con <code>gsub</code> o podemos aprovechar la
función <code>convert_to_numeric</code> del paquete cleanepi.</p>
<div id="callout11" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>convert_to_numeric</code> tiene 3 argumentos:</p>
<ul><li><p><code>data</code>: el dataset (o linelist) con los datos a
modificar.</p></li>
<li><p><code>target_colum</code>: el vector que contiene los nombres de
la(s) columna(s) a modificar.</p></li>
<li><p><code>lang</code>: El idioma en el que están los números lang =
c(“en”, “fr”, “es”).</p></li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Usando la función
<code>convert_to_numeric</code> corrija los errores de la variable
<code>num_hos_rec</code></p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">convert_to_numeric</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="st">"num_hos_rec"</span>,</span>
<span>    lang <span class="op">=</span> <span class="st">"es"</span><span class="op">)</span></span></code></pre>
</div>
<p>⚠️ <strong>Instrucción:</strong> Usando la función table compruebe el
cambio en la variable <code>num_hos_rec</code></p>
<div class="codewrapper sourceCode" id="cb57">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">num_hos_rec</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
    0     1     2     3  &lt;NA&gt;
57789  3094  3059  3100 12158 </code></pre>
</div>
<p>Como puede observar los números en letras fueron convertidos a sus
respectivos equivalentes numéricos. Mientras que todo elemento no
reconocido como número fue convertido en <code>NA</code>.</p>
</div>
<div class="section level5">
<h5 id="nas-relacionados-con-dos-datos-en-la-misma-columna"><strong>NAs relacionados con dos datos en la misma
columna</strong><a class="anchor" aria-label="anchor" href="#nas-relacionados-con-dos-datos-en-la-misma-columna"></a></h5>
<p>En algunos casos un dataset puede contener dos variables en una misma
columna.</p>
<p>⚠️ <strong>Instrucción:</strong> Explore las primeras filas de la
variable <code>tension_arterial</code>.</p>
<div class="codewrapper sourceCode" id="cb59">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">tension_arterial</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "102/85" "148/72" "92/84"  "122/71" "153/88" "129/87"</code></pre>
</div>
<p><strong>Resultado esperado:</strong> En consistencia con lo
mencionado en la documentación del dataset “covid_LA_info.txt”, la
variable tension_arterial contiene dos datos en una misma columna
(tensión sistólica y tensión diastólica separada por “/”).</p>
<p>Para solucionar este problema podemos utilizar la función
<code>separate_wider_delim</code> de la librería <code>tidyr</code>
dentro del conjunto de librerías de <code>tidyverse</code>.</p>
<div id="callout12" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>separate_wider_delim</code> además de data tiene
tres argumentos principales.</p>
<ul><li><p><code>cols</code>: requiere el vector que contiene la columna de
un data frame.</p></li>
<li><p><code>delim</code>: requiere el separador que se empleó para
separar los datos.</p></li>
<li><p><code>names</code>: requiere el nombre de las columnas que se
crearán.</p></li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Empleando la función
<code>separate_wider_delim</code> separe la variable tension_arterial en
dos variables: <code>tension_sistolica</code> y
<code>tension_diastolica</code>.</p>
<div class="codewrapper sourceCode" id="cb61">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu">separate_wider_delim</span><span class="op">(</span>cols <span class="op">=</span> <span class="va">tension_arterial</span>,</span>
<span>                              delim <span class="op">=</span> <span class="st">"/"</span>,</span>
<span>                              names <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"tension_sistolica"</span>,</span>
<span>                                        <span class="st">"tension_diastolica"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">tension_sistolica</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "102" "148" "92"  "122" "153" "129"</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb63">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">tension_diastolica</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "85" "72" "84" "71" "88" "87"</code></pre>
</div>
<p><strong>Resultado esperado:</strong> El código anterior genera los
cambios directamente en el dataset <code>covid</code> y se obtienen las
dos columnas nuevas.</p>
<p>Es importante recordar que todos estos cambios dependen de las
variables trabajadas y el analista de datos debe usar su criterio en
cada circunstancia y hacer pruebas que le permitan revisar si los
resultados son los esperados.</p>
</div>
</div>
<div class="section level4">
<h4 id="valores-infinitos-inf"><strong>3.2.2. Valores infinitos (<code>Inf</code>)</strong><a class="anchor" aria-label="anchor" href="#valores-infinitos-inf"></a></h4>
<p>Los valores infinitos pueden generarse cuando una operación resulta
en un número demasiado grande (Inf+) o demasiado pequeño (Inf -) para R.
En R si intentamos calcular valores superiores o iguales a 2^1024 (más
grande que el número de granos de arena en el planeta tierra) o cuando
dividimos un número por valores muy cercanos a 0, específicamente
menores de 1/1e-309, obtendremos Inf. En el caso de valores inferiores a
1e-324 R los asume como 0:</p>
<p>⚠️ <strong>Instrucción:</strong> Observe los resultados de las
siguientes operaciones:</p>
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">2</span><span class="op">^</span><span class="fl">1024</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] Inf</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb67">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">-</span><span class="fl">2</span><span class="op">^</span><span class="fl">1024</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] -Inf</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">/</span><span class="fl">1e-309</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] Inf</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb71">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">1</span><span class="op">/</span><span class="fl">0</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] Inf</code></pre>
</div>
<p>La aparición de los valores <code>Inf</code> puede suceder en
cualquier momento del manejo de datos, particularmente cuando hay una
equivocación al realizar operaciones aritméticas. Por ejemplo, cuando se
quería calcular los días de vida, y en lugar de usar el operador de
multiplicación (*) se usó el operador de potencia (^).</p>
<div class="codewrapper sourceCode" id="cb73">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>edad_en_dias <span class="op">=</span> <span class="va">edad</span> <span class="op">*</span> <span class="fl">365</span><span class="op">)</span></span>
<span></span>
<span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">edad_en_dias</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1]  9490 10220 22265  8760 18615  9125</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="valores-indeterminados-nan"><strong>3.2.3. Valores indeterminados
(<code>NaN</code>)</strong><a class="anchor" aria-label="anchor" href="#valores-indeterminados-nan"></a></h4>
<p>Estos valores se generan cuando se realizan operaciones
matemáticamente indefinidas. Por ejemplo, si intentamos dividir cero
entre cero o restar o dividir un número infinito de otro número
infinito, obtendremos <code>NaN</code> (que significa “No es un
número”). A continuación se muestran unos ejemplos:</p>
<p>⚠️ <strong>Instrucción:</strong> Observe las siguientes
operaciones</p>
<div class="codewrapper sourceCode" id="cb75">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="cn">Inf</span><span class="op">/</span><span class="cn">Inf</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] NaN</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb77">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="cn">Inf</span><span class="op">-</span><span class="cn">Inf</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] NaN</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb79">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fl">0</span><span class="op">/</span><span class="fl">0</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] NaN</code></pre>
</div>
<p>Aunque los resultados como <code>Inf</code> o <code>NaN</code> puedan
parecer imposibles, estos pueden aparecer cuando en el proceso de
conversión de variables cometemos un error o al crear una variable tras
una operación errónea y el error se propaga en operaciones
subsecuentes.</p>
</div>
<div class="section level4">
<h4 id="datos-duplicados"><strong>3.2.4. Datos duplicados</strong><a class="anchor" aria-label="anchor" href="#datos-duplicados"></a></h4>
<p>Otro error que puede ocurrir frecuentemente son los datos duplicados.
Estos pueden ser tanto una observación de una variable duplicada o todo
un registro duplicado.</p>
<p>⚠️ <strong>Instrucción:</strong> Explore si en la variable
<code>id_de_caso</code> se repiten valores</p>
<div class="codewrapper sourceCode" id="cb81">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">id_de_caso</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
    1     2     3
75797   203   999 </code></pre>
</div>
<p>Como puede observar al menos 1000 códigos de identificación se
repiten en el dataset dos o tres veces. Pero en ese punto aún no sabemos
si estos 1000 registros son errores o simplemente corresponden a dos
registros diferentes de la misma persona (por ejemplo,
reinfecciones).</p>
<p>Para identificar cuáles son registros (filas) totalmente duplicados
en todas sus variables que sí son errores podemos usar la función
duplicated y sumar los registros así:</p>
<div class="codewrapper sourceCode" id="cb83">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">duplicated</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">sum</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 1196</code></pre>
</div>
<p>Para solucionar este problema podemos usar la función
<code>remove_duplicates</code> de cleanepi el cual permite eliminar las
filas que se repiten exactamente.</p>
<div id="callout13" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>remove_duplicates</code> tiene como argumento
principal:</p>
<ul><li>
<code>data</code>: el dataset (o linelist) con los datos a
modificar.</li>
</ul><p>Y un argumento opcional:</p>
<ul><li>
<code>target_columns</code>: un vector con los nombres de las
columnas que se usaran para buscar los duplicados.</li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Empleando la función
<code>remove_duplicates</code> elimine del dataset covid las filas
repetidas.</p>
<div class="codewrapper sourceCode" id="cb85">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_duplicates</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 2391 duplicated rows in the dataset.
ℹ Use `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat" is
  the object used to store the output from this operation.</code></pre>
</div>
<p>Como puede ver en la salida la función detectó 2391 filas replicadas
en su totalidad (pueden estar presentes dos veces o más). Si explora
nuevamente el dataset <code>covid</code> podrá observar que 1196 filas
desaparecieron. Además podrá observar que se genero una nueva columna en
el dataset llamada <code>row_id</code>.</p>
<p>Ahora observemos qué efecto tuvo en los identificadores únicos.</p>
<div class="codewrapper sourceCode" id="cb87">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">id_de_caso</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
    1     2
75994  1005 </code></pre>
</div>
<p>De acuerdo con esta tabla, una vez removimos los registros
duplicados, quedan 1005 identificadores de casos
(<code>id_de_caso</code>) que se registran dos veces.</p>
<p>En caso de que se desee mantener únicamente con el primer registro de
cada caso, se puede emplear la misma función
<code>remove_duplicates</code> usando adicionalmente el argumento
<code>target_columns</code> para especificar las columnas. Veamos un
ejemplo.</p>
<p>️<strong>Instrucción:</strong> Empleando la función
<code>remove_duplicates</code> elimine del dataset los datos
correspondiente a “<code>id_de_caso</code>” repetidos.</p>
<div class="codewrapper sourceCode" id="cb89">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_duplicates</span><span class="op">(</span></span>
<span>    target_columns <span class="op">=</span> <span class="st">"id_de_caso"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>! Found 2010 duplicated rows in the dataset.
ℹ Use `attr(dat, "report")[["duplicated_rows"]]` to access them, where "dat" is
  the object used to store the output from this operation.</code></pre>
</div>
<p>Como puede observar se encontraron 2010 <code>id_de_caso</code>
replicados. Por lo que si se explora el dataset covid podrá observar que
el efecto es la eliminación de 1005 filas. Note que el usuario debe
estar seguro de querer remover esas filas, de lo contrario puede
ejecutar la función sin sobrescribir el objeto para observar los
resultados y cuando se este seguro almacenarlo.</p>
</div>
<div class="section level4">
<h4 id="errores-tipográficos"><strong>3.2.5. Errores tipográficos</strong><a class="anchor" aria-label="anchor" href="#errores-tipogr%C3%A1ficos"></a></h4>
<p>A veces, podemos encontrar que las categorías de una variable se han
escrito de múltiples maneras. Veamos un ejemplo:</p>
<div class="codewrapper sourceCode" id="cb91">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">ubicacion_del_caso</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
        casa         Casa    Fallecido     Hospital Hospital UCI          N/A
         319        74533         1727           12            1          407
        &lt;NA&gt;
           0 </code></pre>
</div>
<p>Para corregir este error, podemos usar la función <code>gsub</code>
para reemplazar el valor incorrecto “casa” por el valor que hemos
seleccionado como correcto, “Casa”.</p>
<div class="codewrapper sourceCode" id="cb93">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">mutate</span><span class="op">(</span>ubicacion_del_caso <span class="op">=</span> </span>
<span>                                   <span class="fu">base</span><span class="fu">::</span><span class="fu">gsub</span><span class="op">(</span>pattern<span class="op">=</span> <span class="st">"casa"</span>,</span>
<span>                                        replacement<span class="op">=</span><span class="st">"Casa"</span>,</span>
<span>                                        x<span class="op">=</span> <span class="va">ubicacion_del_caso</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p>Como resultado, los valores han sido reemplazados:</p>
<div class="codewrapper sourceCode" id="cb94">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">ubicacion_del_caso</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
        Casa    Fallecido     Hospital Hospital UCI          N/A         &lt;NA&gt;
       74852         1727           12            1          407            0 </code></pre>
</div>
<center>
<p><a href="https://epiverse-trace.github.io/epitkit/Banco_errores.html" class="external-link"><img src="../fig/dudas.png" width="100" class="figure"></a></p>
</center>
</div>
<div class="section level4">
<h4 id="reemplazar-valores-perdidos"><strong>3.2.6. Reemplazar valores perdidos</strong><a class="anchor" aria-label="anchor" href="#reemplazar-valores-perdidos"></a></h4>
<p>En algunas ocasiones los dataset contienen valores que no
corresponden a las categorías de las variables, faltan o desde la
documentación sabemos que esos valores corresponden a <code>NA</code>.
Para garantizar un análisis robusto, es una buena práctica reemplazar
todos esos valores por <code>NA</code>. Para hacer este reemplazo lo
podemos hacer empleando la función <code>replace_missing_values</code>
del paquete cleanepi.</p>
<div id="callout14" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>replace_missing_values</code> además de data tiene
argumentos opcionales:</p>
<ul><li><p><code>na_strings</code>: el vector con los caracteres que
representan los valores perdidos (ej. “missing”, “NA”, “N A”). Si no se
diligencia este argumento se usaran los valores predefinidos en el
vector cleanepi::common_na_strings.</p></li>
<li><p><code>target_columns</code>: un vector con los nombres de las
columnas en las cuales se ejecutará la función.</p></li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Revise el contenido de la variable
<code>ubicacion_del_caso</code>:</p>
<div class="codewrapper sourceCode" id="cb96">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">ubicacion_del_caso</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
        Casa    Fallecido     Hospital Hospital UCI          N/A         &lt;NA&gt;
       74852         1727           12            1          407            0 </code></pre>
</div>
<p>⚠️ <strong>Instrucción</strong>: Revise en la documentación que
posibles NA pueden aparecer en el dataset y reemplacelos por NA.</p>
<div class="codewrapper sourceCode" id="cb98">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">replace_missing_values</span><span class="op">(</span> na_strings <span class="op">=</span> <span class="st">"N/A"</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Instrucción:</strong> Revise el contenido de la variable
<code>ubicacion_del_caso</code> para ver los cambios:</p>
<div class="codewrapper sourceCode" id="cb99">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">ubicacion_del_caso</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
        Casa    Fallecido     Hospital Hospital UCI         &lt;NA&gt;
       74852         1727           12            1          407 </code></pre>
</div>
</div>
<div class="section level4">
<h4 id="columnas-con-valores-constantes"><strong>3.2.7. Columnas con valores constantes</strong><a class="anchor" aria-label="anchor" href="#columnas-con-valores-constantes"></a></h4>
<p>En algunas ocasiones, es posible encontrar columnas que contienen un
único valor. Esto puede ocurrir, por ejemplo, cuando se divide un
dataset de mayor tamaño en una fracción más pequeña. En estos casos, la
columna que servía para separar los datos se vuelve innecesaria. Para
estos casos se puede emplear la función <code>remove_constants</code>
del paquete cleanepi.</p>
<div id="callout15" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>remove_constants</code> tiene como argumento
principal:</p>
<ul><li>
<code>data</code>: el dataset (o linelist) con los datos a
modificar.</li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Empleando la función
<code>remove_constants</code> remueva las filas que tengan valores
constantes. </p>
<div class="codewrapper sourceCode" id="cb101">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">remove_constants</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p>Para verificar la cantidad de columnas que permanecen después del
proceso, puede utilizar la función <code>ncol</code>:</p>
<div class="codewrapper sourceCode" id="cb102">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">ncol</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] 25</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="verificación-de-valores-atípicos"><strong>3.2.8. Verificación de valores atípicos</strong><a class="anchor" aria-label="anchor" href="#verificaci%C3%B3n-de-valores-at%C3%ADpicos"></a></h4>
<p>Para evaluar si los datos se encuentran dentro de un rango esperado o
si existen valores atípicos, se puede emplear la creación de gráficas o
la exploración de la cabeza y cola de los datos cuando están ordenados;
por ejemplo, en el caso de las fechas se pueden crear curvas históricas,
o si son edades mediante histogramas o boxplot.</p>
<p>La identificación de valores atípicos puede variar según el criterio
del analista de datos y las características de la variable. Por ejemplo,
en la variable edad si bien valores superiores a los 100 años son
escasos biológicamente son viables, sin embargo, una edad de 200 años
podría considerarse un valor atípico. En el caso de las variables de
fecha, los valores atípicos pueden surgir cuando hay fechas que no
siguen el comportamiento esperado. Veamos un ejemplo con fechas:</p>
<p>⚠️ <strong>Instrucción:</strong> Antes de comenzar asegúrese que la
variable este en formato fecha, para revisar puede emplear la función
<strong><code>class</code>()</strong></p>
<div class="codewrapper sourceCode" id="cb104">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">class</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>[1] "Date"</code></pre>
</div>
<p>Si su variable no está en formato fecha (<code>date</code>), por
favor, revise nuevamente la sección <strong>NAs relacionados con errores
en la escritura de fechas</strong> y emplee la función ahí
aprendida.</p>
<p>⚠️ <strong>Instrucción:</strong> Empleando la función
<code>hist</code>, cree un histograma de las fechas en que fueron
reportados los casos por semana.</p>
<div class="codewrapper sourceCode" id="cb106">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">graphics</span><span class="fu">::</span><span class="fu">hist</span><span class="op">(</span>breaks <span class="op">=</span> <span class="st">"weeks"</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<figure><img src="../fig/limpieza-rendered-unnamed-chunk-78-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Como podemos observar la gráfica empieza desde 1969. Por razones
epidemiológicas rápidamente analizamos que al tratarse de casos COVID
esperaríamos que los registros empezaran desde 2020. Esto indica que
puede haber una fecha que esté mal digitada dando como resultado el
histograma anterior.</p>
<p>Para este caso podemos ordenar los datos con la función arrange del
paquete dplyr dentro de tidyverse para ver las fechas ordenadas e
identificar potenciales fechas erróneas al comienzo de la serie. Como se
muestra en el ejemplo a continuación:</p>
<p>⚠️ <strong>Instrucción:</strong> Observe los datos que encabezan el
dataset cuando está ordenada por fecha.</p>
<div class="codewrapper sourceCode" id="cb107">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">arrange</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper sourceCode" id="cb108">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">arrange</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">utils</span><span class="fu">::</span><span class="fu">head</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 6 × 1
  fecha_reporte_web
  &lt;date&gt;
1 1970-01-01
2 2020-03-20
3 2020-03-20
4 2020-03-21
5 2020-03-23
6 2020-03-24       </code></pre>
</div>
<p>En la primera fila tenemos el valor por fuera del rango esperado, es
decir, una fecha de 1970. En este caso es un solo dato el que debemos
corregir, sin embargo, podrían existir varios cientos de estos. Para
corregir este tipo de errores se puede eliminar las filas que contienen
estos datos o reasignar a estos valores con datos tipo NA para no perder
la demás información.</p>
</div>
<div class="section level4">
<h4 id="corrección-de-errores-en-fechas"><strong>3.2.9. Corrección de errores en fechas</strong><a class="anchor" aria-label="anchor" href="#correcci%C3%B3n-de-errores-en-fechas"></a></h4>
<p>Una vez explorados los datos e identificados posibles errores,
podemos explorar las medidas correctivas a utilizar. En este caso
teniendo en cuenta que los primeros casos de COVID en latinoamérica
fueron en febrero del 2020 emplearemos el primero de febrero
(2020-02-01) como la fecha a partir de la cual consideraremos estos
datos como válidos. Podemos definir la fecha de corte a partir del
contexto epidemiológico, o la documentación.</p>
<p>⚠️ <strong>Instrucción:</strong> Filtre los datos por la fecha de
reporte antes de la fecha “2020-02-01”.</p>
<div class="codewrapper sourceCode" id="cb110">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">filter</span><span class="op">(</span><span class="va">fecha_reporte_web</span> <span class="op">&lt;</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2020-02-01"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 × 25
  fecha_reporte_web id_de_caso fecha_de_notificacion  edad sexo
  &lt;date&gt;                 &lt;int&gt; &lt;chr&gt;                 &lt;int&gt; &lt;fct&gt;
1 1970-01-01           1631715 21/12/2020               24 F
# ℹ 20 more variables: ubicacion_del_caso &lt;chr&gt;, estado &lt;chr&gt;,
#   recuperado &lt;chr&gt;, fecha_de_inicio_de_sintomas &lt;chr&gt;, fecha_de_muerte &lt;chr&gt;,
#   fecha_de_diagnostico &lt;chr&gt;, fecha_de_recuperacion &lt;chr&gt;,
#   tipo_de_recuperacion &lt;chr&gt;, fecha_de_nacimiento &lt;dbl&gt;,
#   nombre_del_pais &lt;fct&gt;, sintomas &lt;fct&gt;, edad_repetida &lt;int&gt;,
#   num_hos_rec &lt;dbl&gt;, tension_sistolica &lt;chr&gt;, tension_diastolica &lt;chr&gt;,
#   vacunado &lt;lgl&gt;, talla &lt;dbl&gt;, peso &lt;dbl&gt;, edad_en_dias &lt;dbl&gt;, row_id &lt;int&gt;</code></pre>
</div>
<p>Una vez identificados los datos, podemos corregirlos reemplazándolos
por el valor correcto (si lo conocemos), convirtiéndolos en valores NA o
excluyéndolos del análisis.</p>
<p>⚠️ <strong>Instrucción:</strong> Empleando la función filter excluya
las fechas previas a la fecha “2020-02-01” en la variable
fecha_reporte_web. Recuerde usar la expresión ! antes del nombre de la
variable para lograr una selección inversa.</p>
<div class="codewrapper sourceCode" id="cb112">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">filter</span><span class="op">(</span><span class="op">!</span><span class="va">fecha_reporte_web</span> <span class="op">&lt;</span> <span class="fu">as.Date</span><span class="op">(</span><span class="st">"2020-02-01"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p>Ahora volvamos a producir la gráfica y observemos.</p>
<p>⚠️ <strong>Instrucción:</strong> Vuelva a producir el histograma con
la corrección en las fechas.</p>
<div class="codewrapper sourceCode" id="cb113">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">fecha_reporte_web</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">graphics</span><span class="fu">::</span><span class="fu">hist</span><span class="op">(</span>breaks <span class="op">=</span> <span class="st">"weeks"</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="../fig/limpieza-rendered-unnamed-chunk-84-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p><strong>Resultado esperado:</strong> Al usar el anterior código con
el mismo dataset se obtiene el siguiente resultado:</p>
</div>
<div class="section level4">
<h4 id="filtrado-de-registros-con-na"><strong>3.2.10. Filtrado de registros con NA</strong><a class="anchor" aria-label="anchor" href="#filtrado-de-registros-con-na"></a></h4>
<p>En ciertos análisis, puede ser necesario excluir los valores NA. Para
lograr esto, podemos utilizar la función de filtrado proporcionada por
<code>dplyr</code>. Esto nos permite centrarnos en los datos
completos.</p>
<p>⚠️ <strong>Instrucción:</strong> Revise el contenido de la variable
<code>ubicacion_del_caso</code>:</p>
<div class="codewrapper sourceCode" id="cb114">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">ubicacion_del_caso</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
        Casa    Fallecido     Hospital Hospital UCI         &lt;NA&gt;
       74851         1726           12            1          407 </code></pre>
</div>
<p><strong>Instrucción</strong>: Filtre la variable
<code>ubicacion_del_caso</code> para excluir los registros con
<code>NA</code> presentes en esta variable:</p>
<div class="codewrapper sourceCode" id="cb116">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">filter</span><span class="op">(</span><span class="op">!</span><span class="fu">is.na</span><span class="op">(</span><span class="va">ubicacion_del_caso</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<p><strong>Instrucción:</strong> Revise el contenido de la variable
ubicacion_del_caso para ver los cambios:</p>
<div class="codewrapper sourceCode" id="cb117">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">ubicacion_del_caso</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
        Casa    Fallecido     Hospital Hospital UCI         &lt;NA&gt;
       74851         1726           12            1            0 </code></pre>
</div>
<p>Como puede observar ahora los NA son 0.</p>
</div>
<div class="section level4">
<h4 id="reemplazo-de-siglas-abreviaturas-o-valores-códigos"><strong>3.2.11. Reemplazo de siglas, abreviaturas o valores
códigos</strong><a class="anchor" aria-label="anchor" href="#reemplazo-de-siglas-abreviaturas-o-valores-c%C3%B3digos"></a></h4>
<p>En el proceso de la recopilación o entrada de datos, es común el uso
de siglas, abreviaturas o códigos para registrar información. Por
ejemplo, en el caso de la variable de sexo, a veces se puede emplear
“1”, “m” o “M” para representar el sexo masculino, y “2”, “f” o “F” para
el sexo femenino, entre otras opciones. Si se cuenta con un diccionario
para la conversión de estos valores, es posible utilizar la función
<code>clean_using_dictionary</code> de del paquete 
<code>cleanepi</code> para realizar el reemplazo correspondiente.</p>
<p>Dado que de momento no tenemos un diccionario podemos crear uno.</p>
<div class="codewrapper sourceCode" id="cb119">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">diccionario</span> <span class="op">&lt;-</span> <span class="fu">base</span><span class="fu">::</span><span class="fu">data.frame</span><span class="op">(</span></span>
<span>  options <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"m"</span>, <span class="st">"f"</span><span class="op">)</span>,</span>
<span>  values <span class="op">=</span> <span class="fu">c</span><span class="op">(</span><span class="st">"masculino"</span>, <span class="st">"femenino"</span>, <span class="st">"masculino"</span>,</span>
<span>             <span class="st">"femenino"</span>, <span class="st">"masculino"</span>, <span class="st">"femenino"</span><span class="op">)</span>,</span>
<span>  grp <span class="op">=</span> <span class="fu">rep</span><span class="op">(</span><span class="st">"sexo"</span>, <span class="fl">6</span><span class="op">)</span>,</span>
<span>  orders <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span></code></pre>
</div>
<p>⚠️ <strong>Instrucción:</strong> Revise el contenido de la variable
<code>sexo</code>:</p>
<div class="codewrapper sourceCode" id="cb120">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">sexo</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
    F     M  &lt;NA&gt;
40962 35628     0 </code></pre>
</div>
<div id="callout16" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>clean_using_dictionary</code> tiene como argumento
principal:</p>
<ul><li><p><code>data</code>: el dataset (o linelist) con los datos a
modificar.</p></li>
<li><p><code>dictionary</code>: un diccionario que contiene los valores
que se van a reemplazar los datos actuales. Cada clave en el diccionario
representa un valor original en el conjunto de datos, y el valor
asociado a esa clave es el nuevo significado que se le asignará al
dato.</p></li>
</ul></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Aplique la función
<code>clean_using_dictionary</code> al dataset:</p>
<div class="codewrapper sourceCode" id="cb122">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="fu">cleanepi</span><span class="fu">::</span><span class="fu">clean_using_dictionary</span><span class="op">(</span><span class="va">covid</span>,</span>
<span>                                          dictionary <span class="op">=</span> <span class="va">diccionario</span><span class="op">)</span></span></code></pre>
</div>
<p>⚠️ <strong>Instrucción:</strong> Revise el contenido de la variable
sexo para ver los cambios:</p>
<div class="codewrapper sourceCode" id="cb123">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">pull</span><span class="op">(</span><span class="va">sexo</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu">table</span><span class="op">(</span>useNA <span class="op">=</span> <span class="st">"always"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">SALIDA<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.
masculino  femenino      &lt;NA&gt;
    35628     40962         0 </code></pre>
</div>
<center>
<p><a href="https://epiverse-trace.github.io/epitkit/Banco_errores.html" class="external-link"><img src="../fig/dudas.png" width="100" class="figure"></a></p>
</center>
</div>
</div>
</section><section><h2 class="section-heading" id="tema-4-organización-de-los-datos"><strong>Tema 4: Organización de los datos</strong><a class="anchor" aria-label="anchor" href="#tema-4-organizaci%C3%B3n-de-los-datos"></a></h2>
<hr class="half-width"><p>Finalmente podemos realizar algunas actividades de organización de
datos. Como, por ejemplo:</p>
<div class="section level3">
<h3 id="eliminación-de-variables-repetidas-o-que-no-tengan-utilidad-en-responder-la-pregunta-de-investigación">4.1. Eliminación de variables repetidas o que no tengan utilidad en
responder la pregunta de investigación<a class="anchor" aria-label="anchor" href="#eliminaci%C3%B3n-de-variables-repetidas-o-que-no-tengan-utilidad-en-responder-la-pregunta-de-investigaci%C3%B3n"></a></h3>
<p>Durante la exploración de datos es posible encontrar variables cuyo
contenido no es necesario para el análisis o que ya no se requieren.
Para optimizar el uso de recursos de memoria en el equipo, podemos
eliminar estas variables. Para lograrlo podemos usar la función select
del paquete tidyverse.</p>
<p>⚠️ <strong>Instrucción:</strong> Empleando la función select
acompañada del símbolo - elimine la variable edad_repetida.</p>
<div class="codewrapper sourceCode" id="cb125">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">select</span> <span class="op">(</span><span class="op">!</span><span class="va">edad_repetida</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="organización-de-las-variables">4.2. Organización de las variables<a class="anchor" aria-label="anchor" href="#organizaci%C3%B3n-de-las-variables"></a></h3>
<p>Parte de la organización de las variables incluye asignar nombres
apropiados a las variables, según la necesidad del proyecto. Esto se
puede lograr mediante la función <code>rename</code> de
<code>dplyr</code>.</p>
<p>⚠️ <strong>Instrucción:</strong> Empleando la función rename cambie
el nombre de la variable <code>fecha_de_inicio_de_sintomas</code> a un
nombre más corto como, por ejemplo: <code>inicio_sintomas</code>.</p>
<div class="codewrapper sourceCode" id="cb126">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu">rename</span><span class="op">(</span>inicio_sintomas <span class="op">=</span> <span class="va">fecha_de_inicio_de_sintomas</span><span class="op">)</span></span></code></pre>
</div>
<p>¿A qué otras columnas les cambiaría el nombre?</p>
</div>
<div class="section level3">
<h3 id="almacenamiento-del-dataset-limpio">4.3. Almacenamiento del dataset limpio<a class="anchor" aria-label="anchor" href="#almacenamiento-del-dataset-limpio"></a></h3>
<p>Una vez se haya terminado la modificación, limpieza y corrección de
los datos podemos guardar el dataset limpio. Esto se debe a que, todos
los cambios que han sido realizados se han guardado únicamente en la
sesión de R, y se perderán una vez que esta se cierre. Para hacerlo, se
puede utilizar la función export del paquete rio.</p>
<div id="callout17" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Aviso</h3>
<div class="callout-content">
<p>La función <code>export</code> necesita mínimo dos argumentos:</p>
<ol style="list-style-type: decimal"><li><p>x: El <strong>nombre del objeto</strong> que se guardará en el
archivo.</p></li>
<li><p>file: El <strong>nombre del archivo</strong> con su extensión
(ej. datos_limpios_covid.RDS). Si se almacenará en una carpeta, se
agrega la ruta a la carpeta antes del nombre del archivo
(ej.datos/limpios/datos_limpios_covid.RDS).</p></li>
</ol></div>
</div>
</div>
<p>⚠️ <strong>Instrucción:</strong> Cree un directorio de datos limpios
y almacene los datos corregidos en el formato de su preferencia. Le
recomendamos .RDS.</p>
<div class="codewrapper sourceCode" id="cb127">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">rio</span><span class="fu">::</span><span class="fu">export</span><span class="op">(</span><span class="va">covid</span>, <span class="st">"datos/limpios/datos_limpios_covid.RDS"</span><span class="op">)</span><span class="co"># guarde los datos</span></span></code></pre>
</div>
<p><strong>Resultado esperado:</strong> Para observar el resultado vaya
a su carpeta datos y a la subcarpeta limpios. Ahí verá un archivo
llamado datos_limpios_covid.RDS. También puede almacenar el archivo en
formato .xls o .xlsx para Excel, así como en otros múltiples formatos.
Sin embargo, se recomienda RDS por su bajo peso y capacidad de
almacenamiento.</p>
<center>
<p><a href="https://epiverse-trace.github.io/epitkit/Banco_errores.html" class="external-link"><img src="../fig/dudas.png" width="100" class="figure"></a></p>
</center>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Puntos Clave</h3>
<div class="callout-content">
<p>Revise si al final de esta lección adquirió estas competencias:</p>
<ul><li><p>Reconocer las herramientas que facilitan la limpieza de datos
epidemiológicos.</p></li>
<li><p>Identificar las buenas prácticas de la limpieza de datos
epidemiológicos.</p></li>
<li><p>Explorar el proceso de limpieza, organización y caracterización
de datos epidemiológicos.</p></li>
</ul></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="contribuciones">Contribuciones<a class="anchor" aria-label="anchor" href="#contribuciones"></a></h3>
<ul><li>Zulma M. Cucunuba: Versión inicial</li>
<li>Laura Gómez-Bermeo: Edición</li>
<li>Geraldine Gomez: Ediciones menores</li>
<li>Andree Valle: Ediciones menores</li>
<li>José M. Velasco España: Ediciones menores</li>
</ul></div>
<div class="section level3">
<h3 id="asuntos-legales">Asuntos legales<a class="anchor" aria-label="anchor" href="#asuntos-legales"></a></h3>
<p><strong>Copyright</strong>: Zulma M. Cucunuba, 2019</p>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Capítulo previo y siguiente"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/Reporte.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previo</a>
        <a class="chapter-link float-end" href="../instructor/zika.html">Siguiente<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/Reporte.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previo: Reporte e informes
        </a>
        <a class="chapter-link float-end" href="../instructor/zika.html" rel="next">
          Siguiente: Construyendo un...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>Esta lección está sujeta al <a href="CODE_OF_CONDUCT.html">Código de Conducta</a></p>
        <p>

        <a href="https://github.com/epiverse-trace/epitkit/edit/main/episodes/limpieza.Rmd" class="external-link">Editar en GitHub</a>

	
        | <a href="https://github.com/epiverse-trace/epitkit/blob/main/CONTRIBUTING.md" class="external-link">Contribuir</a>
        | <a href="https://github.com/epiverse-trace/epitkit/" class="external-link">Fuente</a></p>
				<p><a href="https://github.com/epiverse-trace/epitkit/blob/main/CITATION.cff" class="external-link">Cita</a> | <a href="mailto:gomezblaura@javeriana.edu.co">Contacto</a> | <a href="https://carpentries.org/about/" class="external-link">Acerca de</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Plantilla compartida bajo <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> por <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Construido con <a href="https://github.com/epiverse-trace/sandpaper/tree/patch-renv-github-bug" class="external-link">sandpaper (0.16.13.9000)</a>, <a href="https://github.com/carpentries/pegboard/tree/5e0d711121a581777d83cf270e298c933f112d52" class="external-link">pegboard (0.7.9)</a> y <a href="https://github.com/epiverse-trace/varnish/tree/epiversetheme" class="external-link">varnish (1.0.7.9000)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Volver al inicio"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Volver</span> al inicio
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://epiverse-trace.github.io/epitkit/instructor/limpieza.html",
  "inLanguage": "es",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Limpieza de datos epidemiológicos",
  "creativeWorkStatus": "active",
  "url": "https://epiverse-trace.github.io/epitkit/instructor/limpieza.html",
  "identifier": "https://epiverse-trace.github.io/epitkit/instructor/limpieza.html",
  "dateCreated": "2024-09-09",
  "dateModified": "2025-06-24",
  "datePublished": "2025-06-24"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

